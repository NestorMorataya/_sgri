{% extends 'base.html.twig' %}

{% block body %}

<div class="container" style="margin-top:15px; margin-bottom:180px;">
<hr>
<div class="col-xs-12">

    <h1>Usuario editar</h1>

   
 {{ form_start(edit_form) }}
       

         <div class="form-group">
         <label>Nombre de Usuario</label>
         {{ form_widget(edit_form.username, {'attr':{'class':'form-control'}}) }}
          </div>
       <div class="form-group">
         <label>Primer nombre</label>
         {{ form_widget(edit_form.firstName, {'attr':{'class':'form-control'}}) }}
       </div>
 <div class="form-group">
         <label>Apellido</label>
         {{ form_widget(edit_form.lastName, {'attr':{'class':'form-control'}}) }}
</div>

       <div class="form-group">
         <label>Email</label>
         {{ form_widget(edit_form.email, {'attr':{'class':'form-control'}}) }}
        </div>


       <div class="form-group">
              <label >Contraseña</label>
                <input type="password" class="form-control"  name="contra" value="{{ usuario.contra }}">
        </div>

 <div class="form-group" style="display:none">
         <label>Contraseña</label>
         {{ form_widget(edit_form.password, {'value' : 'Defaulttitle'}) }}
       </div>

<div>
<label>Seleccione un Rol</label>
<select name="role" id="role"  >
{% if usuario.role == 'Administrador Empresa' %}
<option selected value="{{ usuario.role }}" >{{ usuario.role }}</option>
{% else %}
<option selected value="{{ usuario.role }}" >{{ usuario.role }}</option>
<option value="Experto Seguridad" >Experto Seguridad</option>
<option value="Custodio Informacion">Custodio Informacion</option>
</select>
{% endif %}
</div>



  <div class="form-group" style="display:none">
         {{ form_label(edit_form.isActive)}}
         {{ form_widget(edit_form.isActive, {'attr':{'class':'form-control'}}) }}

       </div>
          <div class="form-group" style="display:none">
         {{ form_label(edit_form.createdAt)}}
         {{ form_widget(edit_form.createdAt, {'attr':{'class':'form-control'}}) }}

       </div>
          <div class="form-group" style="display:none">
         {{ form_label(edit_form.updateAt)}}
         {{ form_widget(edit_form.updateAt, {'attr':{'class':'form-control'}}) }}

       </div>

        <input class="btn" type="submit" value="Editar" />
        <ul>
        <li>
            <a href="{{ path('usuario_index') }}">Back to the list</a>
        </li>
   </ul>
 
  {{ form_end(edit_form) }}
    <ul>
        
<br>
    {% if ((usuario.role == 'Custodio Informacion')or(usuario.role == 'Experto Seguridad')) %} 
          <li>
            {{ form_start(delete_form) }}
                <input class="btn"  type="submit" value="Eliminar Usuario">
            {{ form_end(delete_form) }}
           
     </li>

     {% else %}
      Administrador no puede ser eliminado
     {% endif%}

    </ul>


   

      </div>
    </div>
</div>

 </div>

</div>
{% endblock %}
